<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>网易云音乐歌单下载器</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        h1 {
            text-align: center;
        }
        select, input[type="number"], button {
            margin: 10px 0;
            padding: 5px;
            font-size: 16px;
        }
        #output, #downloadLinks {
            margin-top: 20px;
            border: 1px solid #ccc;
            padding: 10px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        #songList {
            list-style-type: none;
            padding: 0;
        }
        #songList li {
            margin-bottom: 5px;
        }
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <h1>网易云音乐歌单下载器</h1>
    <select id="songCount">
        <option value="all">全部</option>
        <option value="10">10首</option>
        <option value="30">30首</option>
        <option value="50">50首</option>
        <option value="100">100首</option>
        <option value="custom">自定义</option>
    </select>
    <input type="number" id="customCount" style="display: none;" min="1" placeholder="输入歌曲数量">
    <button onclick="getSongList()">获取歌单信息</button>
    <button onclick="generateDownloadLinks()">生成下载链接</button>
    <button onclick="downloadTxtFile()">下载TXT文件</button>

    <div id="output"></div>
    <div id="downloadLinks"></div>
    <ul id="songList"></ul>

    <script>
        let songs = [];

        function getSongList() {
            const songCount = document.getElementById('songCount').value;
            const customCount = document.getElementById('customCount').value;
            const count = songCount === 'custom' ? customCount : songCount;

            // 模拟获取歌单信息
            songs = Array.from({length: count === 'all' ? 100 : parseInt(count)}, (_, i) => ({
                name: `歌曲${i + 1}`,
                artist: `歌手${i + 1}`,
                link: `https://example.com/download/song${i + 1}.mp3`
            }));

            document.getElementById('output').textContent = `已获取 ${songs.length} 首歌曲信息`;
        }

        function generateDownloadLinks() {
            const downloadLinks = document.getElementById('downloadLinks');
            const songList = document.getElementById('songList');
            downloadLinks.textContent = '';
            songList.innerHTML = '';

            songs.forEach((song, index) => {
                const li = document.createElement('li');
                li.textContent = `${song.name} - ${song.artist}`;
                const showLinkBtn = document.createElement('button');
                showLinkBtn.textContent = '显示链接';
                showLinkBtn.onclick = () => showSongLink(index);
                li.appendChild(showLinkBtn);
                songList.appendChild(li);
            });
        }

        function showSongLink(index) {
            const song = songs[index];
            alert(`下载链接：${song.link}`);
        }

        function downloadTxtFile() {
            const content = songs.map(song => `${song.name} - ${song.artist}\n${song.link}`).join('\n\n');
            const blob = new Blob([content], {type: 'text/plain'});
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = '歌曲下载链接.txt';
            a.click();
        }

        document.getElementById('songCount').addEventListener('change', function() {
            document.getElementById('customCount').style.display = this.value === 'custom' ? 'inline-block' : 'none';
        });
    </script>
</body>
</html>
